# 第16周综合项目：项目模板

> 本模板用于第16周的综合项目实践，提供了项目结构、文档要求和示例。

---

## 项目选择

请从以下项目中选择一个完成：

### 选项1: 实现一个新的渲染特性

#### 可能的题目
- SSAO (屏幕空间环境光遮蔽)
- SSR (屏幕空间反射)
- 体积光/体积雾
- GPU驱动的渲染（Indirect Drawing）
- 变形和扭曲特效

#### 项目要求
```
项目结构/
├── docs/
│   ├── design.md           # 设计文档
│   ├── implementation.md   # 实现文档
│   └── results.md          # 结果展示
├── source/                 # 源代码
│   ├── feature_xxx.h
│   └── feature_xxx.cpp
├── shaders/                # 着色器代码
└── screenshots/            # 效果截图/视频
```

#### 验收标准
- [ ] 功能完整可用
- [ ] 代码符合引擎规范
- [ ] 有完整的文档说明
- [ ] 有效果对比（开启/关闭）
- [ ] 性能分析数据

---

### 选项2: 扩展物理系统功能

#### 可能的题目
- 软体物理模拟
- 布料模拟
- 流体模拟（SPH）
- 破坏系统
- 角色控制器改进

#### 项目要求
```
项目结构/
├── docs/
│   ├── design.md           # 物理原理
│   ├── integration.md      # 集成方案
│   └── demo.md             # 演示说明
├── source/                 # 源代码
└── demos/                  # 演示场景
```

#### 验收标准
- [ ] 物理效果真实可信
- [ ] 性能满足实时要求
- [ ] 与引擎集成完整
- [ ] 有交互演示
- [ ] 参数可调节

---

### 选项3: 优化引擎性能

#### 可能的题目
- 多线程渲染系统
- GPU驱动渲染
- 内存池和对象池
- 批处理优化
- 纹理/模型流式加载

#### 项目要求
```
项目结构/
├── docs/
│   ├── analysis.md         # 性能分析
│   ├── optimization.md     # 优化方案
│   └── comparison.md       # 对比数据
├── source/                 # 优化代码
└── benchmarks/             # 性能测试
    └── results/
```

#### 验收标准
- [ ] 性能提升>30%
- [ ] 不影响现有功能
- [ ] 有性能测试数据
- [ ] 有对比图表
- [ ] 代码无明显复杂度增加

---

### 选项4: 制作一个Demo场景

#### 可能的题目
- 第三人称游戏场景
- 赛车游戏场景
- FPS游戏场景
- 交互式可视化
- 技术展示Demo

#### 项目要求
```
项目结构/
├── docs/
│   ├── design.md           # 场景设计
│   ├── assets.md           # 资源清单
│   └── user_guide.md       # 使用说明
├── assets/                 # 场景资源
│   ├── models/
│   ├── textures/
│   └── animations/
├── scripts/                # 游戏脚本
└── screenshots/            # 场景截图
```

#### 验收标准
- [ ] 场景完整可运行
- [ ] 有交互功能
- [ ] 视觉效果良好
- [ ] 性能流畅（>60FPS）
- [ ] 有完整文档

---

## 通用要求

### 代码规范
```cpp
// 1. 命名规范
class RenderFeatureSSAO      // 类名：大驼峰
void updateScene()           // 函数名：小驼峰
float m_delta_time;          // 成员变量：m_前缀
const int MAX_LIGHTS = 16;   // 常量：全大写

// 2. 注释规范
/**
 * @brief 屏幕空间环境光遮蔽
 *
 * 实现基于SSAO的实时环境光遮蔽效果
 * 参考: https://learnopengl.com/Advanced-Lighting/SSAO
 */
class SSAOPass {
public:
    /**
     * @brief 渲染SSAO通道
     * @param command_buffer 命令缓冲区
     * @param scene_data 场景数据
     */
    void render(CommandBuffer* cmd, const SceneData& scene);

private:
    std::shared_ptr<Texture> m_ssao_texture;  ///< SSAO结果纹理
    std::shared_ptr<Texture> m_noise_texture;  ///< 采样噪声纹理
};

// 3. 文件组织
// feature_ssao.h - 类定义
// feature_ssao.cpp - 实现
```

### Git提交规范
```
commit type(scope): subject

body

footer
```

**类型 (type)**:
- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档更新
- `refactor`: 代码重构
- `perf`: 性能优化
- `test`: 测试相关
- `chore`: 构建/工具

**示例**:
```
feat(render): 添加SSAO渲染通道

- 实现SSAO核心算法
- 集成到渲染管线
- 添加参数控制界面

Closes #123
```

---

## 文档模板

### design.md - 设计文档

```markdown
# 项目名称设计文档

## 1. 概述
简要描述项目目标和功能

## 2. 背景知识
相关技术原理介绍

## 3. 系统设计
### 3.1 整体架构
```
[架构图]
```

### 3.2 核心模块
- 模块A：职责、接口
- 模块B：职责、接口

### 3.3 数据结构
关键数据结构定义

## 4. 接口设计
```cpp
// 接口定义
```

## 5. 关键算法
伪代码或流程图

## 6. 性能考虑
时间/空间复杂度分析

## 7. 风险和挑战
可能遇到的问题和解决方案
```

### implementation.md - 实现文档

```markdown
# 项目名称实现文档

## 1. 实现环境
- 引擎版本
- 开发工具
- 依赖库

## 2. 实现步骤
### 2.1 第一步
详细描述实现过程

### 2.2 第二步
...

## 3. 关键代码片段
```cpp
// 重要代码说明
```

## 4. 遇到的问题和解决方案
| 问题 | 解决方案 |
|------|----------|
| ... | ... |

## 5. 测试方法
如何验证功能正确性

## 6. 参数调优
可调参数及其影响
```

### results.md - 结果展示

```markdown
# 项目名称结果文档

## 1. 功能演示
### 截图对比
| 开启前 | 开启后 |
|--------|--------|
| ![](before.png) | ![](after.png) |

### 视频
[演示视频链接]

## 2. 性能数据
| 场景 | 原始FPS | 优化后FPS | 提升 |
|------|---------|-----------|------|
| 场景1 | 45 | 68 | 51% |
| 场景2 | 30 | 52 | 73% |

## 3. 结论
总结成果和改进方向
```

---

## 项目答辩准备

### 答辩PPT结构（10-15分钟）

#### 第1页：标题页
- 项目名称
- 作者信息
- 日期

#### 第2页：项目概述
- 项目目标
- 选择原因
- 主要成果

#### 第3页：背景知识
- 相关技术介绍
- 参考论文/资料

#### 第4-5页：系统设计
- 整体架构图
- 核心模块说明
- 关键数据结构

#### 第6-8页：实现细节
- 关键代码片段
- 算法流程图
- 技术难点

#### 第9-10页：结果展示
- 功能演示截图/视频
- 性能对比数据
- 效果对比

#### 第11页：总结与展望
- 完成情况
- 遇到的挑战
- 未来改进方向

#### 第12页：Q&A

---

## 评分标准

### 功能完整性 (30分)
- [ ] 实现了规划的主要功能
- [ ] 功能可正常使用
- [ ] 边界情况处理得当

### 技术难度 (25分)
- [ ] 技术深度
- [ ] 创新性
- [ ] 复杂度适中

### 代码质量 (20分)
- [ ] 代码规范
- [ ] 可读性好
- [ ] 注释完整
- [ ] 无明显bug

### 文档质量 (15分)
- [ ] 文档完整
- [ ] 说明清晰
- [ ] 图表丰富

### 演示效果 (10分)
- [ ] 功能演示完整
- [ ] 效果展示好
- [ ] 答辩清晰

---

## 时间规划

### 第1-2天：选题和设计
- 确定项目方向
- 查阅相关资料
- 完成设计文档

### 第3-7天：核心实现
- 实现核心功能
- 单元测试
- 集成到引擎

### 第8-10天：完善和优化
- 功能完善
- 性能优化
- Bug修复

### 第11-12天：文档和演示
- 编写文档
- 准备演示
- 录制视频

### 第13-14天：答辩准备
- 制作PPT
- 预演答辩

---

## 常见问题

### Q: 项目太难怎么办？
A: 可以适当降低难度，如：
- 渲染特性：从简单特效开始
- 物理功能：先实现基础版本
- 性能优化：聚焦单个瓶颈

### Q: 时间不够怎么办？
A: 优先保证：
1. 核心功能可用
2. 基本文档完整
3. 有演示效果

### Q: 需要外部资源怎么办？
A: 可以使用：
- 免费模型：Sketchfab, Poly Pizza
- 免费纹理：AmbientCG, Poly Haven
- 参考代码：GitHub开源项目

---

**最后更新**: 2026-02-18
**祝项目顺利！**
